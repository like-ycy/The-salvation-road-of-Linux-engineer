# 组件化开发

## 脚本化组件[component]

组件（Component）是自定义封装代码的功能。在前端开发过程中，经常出现多个网页的功能是重复的，而且很多不同的页面之间，也存在同样的功能。

而在网页中实现一个功能，需要使用html定义功能的内容结构，使用css声明功能的外观样式，还要使用js来定义功能的特效，因此就产生了把一个功能相关的[HTML、css和javascript]代码封装在一起组成一个整体的代码块封装模式，我们称之为“组件”。



所以，组件就是一个html网页中的功能，一般就是一个标签，标签中有自己的html内容结构，css样式和js特效。

这样，前端人员就可以在组件化开发时，只需要书写一次代码，随处引入即可使用。

vue的组件有两种：脚本化组件 和 单文件组件。

脚本化组件的组件名：单词小写加横杠。

### 脚本化组件

#### 全局注册

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/vue-3.1.2.js"></script>
</head>
<body>
    <div id="app">
        <header-nav></header-nav>
        <header-nav></header-nav>
        <header-nav></header-nav>
        <header-nav></header-nav>
    </div>
    <script>
        // 组件声明
        // vm对象.component("组件名",{
        //     data(){       // 组件内部的数据
        //
        //     },
        //     methods:{     // 组件内部的操作方法
        //
        //     },
        //     template:"",  // 组件的HTML代码
        // });

        // 组件内部的数据时互相独立的，在操作过程中，有属于当前组件的vm对象进行控制
        // 以往，我们学习过的所有vue的语法都可以在组件中进行使用。

        const headerNav = { // 使用时，把组件名作为标签名进行使用
            data(){       // 组件内部的数据
                return {
                    nav_list: ["首页","注册"],
                    num: 0,
                }
            },
            methods:{     // 组件内部的操作方法
                show(nav){
                    console.log(nav);
                }
            },
            // 组件的HTML代码
            template:`
                <ul>
                    <li v-for="nav in nav_list"><a href="" @click.prevent="show(nav)">{{nav}}</a></li>
                </ul>
                <button @click="num++">{{num}}</button>
            `,
        }

        // 链式调用：方法最后以当前对象作为返回值
        const app = Vue.createApp({
            data(){
                return {

                }
            }
        }).component("header-nav",headerNav).mount("#app");
    </script>
</body>
</html>
```



#### 局部注册

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/vue-3.1.2.js"></script>
</head>
<body>
    <div id="app">
        <header-nav></header-nav>
        <header-nav></header-nav>
        <header-nav></header-nav>
    </div>
    <script>
        // 组件声明
        // vm对象.component("组件名",{
        //     data(){       // 组件内部的数据
        //
        //     },
        //     methods:{     // 组件内部的操作方法
        //
        //     },
        //     template:"",  // 组件的HTML代码
        // });

        // 组件内部的数据时互相独立的，在操作过程中，有属于当前组件的vm对象进行控制
        // 以往，我们学习过的所有vue的语法都可以在组件中进行使用。

        const headerNav = { // 使用时，把组件名作为标签名进行使用
            data(){       // 组件内部的数据
                return {
                    nav_list: ["首页","注册"],
                    num: 0,
                }
            },
            methods:{     // 组件内部的操作方法
                show(nav){
                    console.log(nav);
                }
            },
            // 组件的HTML代码
            template:`
                <ul>
                    <li v-for="nav in nav_list"><a href="" @click.prevent="show(nav)">{{nav}}</a></li>
                </ul>
                <button @click="num++">{{num}}</button>
            `
        }

        // 链式调用：方法最后以当前对象作为返回值
        const app = Vue.createApp({
            data(){
                return {

                }
            },
            components:{
                // "header-nav": headerNav, // 写法1
                headerNav, // 写法2: js中，属性值和属性名都是同一个变量名，可以简写。 headerNav:headerNav，调用的标签名还是  单词小写加横杠
            }
        }).mount("#app");
    </script>
</body>
</html>
```

