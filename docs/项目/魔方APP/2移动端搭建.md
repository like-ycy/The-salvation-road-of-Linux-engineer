# 移动端开发相关概念

![20170511142800107.png](../../../../../Oldboy_Python_Projects/%25E9%25A1%25B9%25E7%259B%25AE/%25E9%25AD%2594%25E6%2596%25B9app/day106/assets/20170511142800107.png)

## APP类型

![img](../../../../../Oldboy_Python_Projects/%25E9%25A1%25B9%25E7%259B%25AE/%25E9%25AD%2594%25E6%2596%25B9app/day106/assets/13133049-92942339334ee062.webp)

### Native APP

Native APP又称原生APP，就是我们平时说的手机应用软件。

原生APP 是针对IOS、Android、Windows、鸿蒙等不同的手机操作系统要采用不同的语言和框架进行开发出来的，通常是由“服务器数据+APP应用客户端”两部份构成。

实现技术：

```
iOS: swift（雨燕）/ Object-C
Android: java / kotlin
HarmonyOS: JS, Java和C++
```



#### 优缺点

```txt
优点：
		体验好，用户无法上网也可访问APP应用中以前下载的数据
		性能稳定，可调用手机的硬件设备（语音、摄像头、短信、GPS、重力感应等）和本地资源（通讯录，相册等）
		操作速度快，能够实现出色的动效，转场动画完美

缺点：
		开发周期长，开发人员工资起点高。
		用户要使用原生APP，必须通过安装到手机里面才行，而且APP软件体积大，占用较多手机内存容量
		更新缓慢，根据不同平台，提交–审核–上线流程较复杂。
		要获取最新功能，需要升级应用，所以会容易出现有些用户不升级，导致多个不同功能版本出现，维护成本大
		跨平台差，每种平台都需要独立的开发语言。Java(安卓),swift(iOS), HarmonyOS(java、C++、js)等等
```



### Web APP

Web APP本质上是为移动浏览器设计的网站，可以在各种智能设备的浏览器上运行。

实现技术：

```
HTML5+Javascript+CSS3
react.js
vue.js
```



#### 优缺点

```txt
优点：
		一套代码到处运行，可以同时在 PC、Android、iPhone、鸿蒙系统上的浏览器上访问
		开发者不需要发布到应用市场审核，用户不需要下载、安装和更新
		开发周期短，维护成本低
		用户不需用户手动更新，可以自动更新，直接使用最新版本

缺点：
		转场表现略差，要求联网
		用户体验没那么炫。图片和动画支持性不高
		没法在应用市场中下载、无法通过应用下载获得盈利机会
		对手机功能应用缺乏，有限制（蓝牙、网络、本地文件等）
```



### Hybrid APP

Hybrid App就是混合APP，就是Native结合Web的混合开发，就是内部本质是Web网页，使用外壳打包软件给它套一层原生APP的外壳。

实现技术：

```
APICloud 
Dcloud的uni-app ->Hbuilder
React Native (react.js+APP外壳程序)

WeX5
phoneGap(cordova+android)
Ionic4
....
```



#### 优缺点

```txt
优点：
		集众家之长，既可以调用丰富的手机设备API，也能拥有Web APP的跨平台能力
		可以在应用商店发布，实现收费下载
		内部是网页结构，可以自主更新，做到开发一次，所有平台生效
		降低开发成本和技术成本，降低维护和开发周期
缺点：
		本质上就是一个Web APP使用了原生APP的壳，所以体验比不上原生APP，但是比webAPP强
		开发难度比Web APP高，有一定的学习成本，开发周期比Web APP长，但是比原生APP肯定要短。
		混合APP发布有可能无法通过审核，需要多次调整，才能发布
		依赖开发框架本身提供的手机设备API，少部分设备功能还是只能借助原生语言进行调用才可以
		对团队技术栈要求相对高，既要懂web开发的，也要懂原生APP开发的
```



## 移动端屏幕介绍

![移动端屏幕](../../../../../Oldboy_Python_Projects/%25E9%25A1%25B9%25E7%259B%25AE/%25E9%25AD%2594%25E6%2596%25B9app/day106/assets/rem-11.png)



## 移动端自适配方案

目前常用的布局适配方案就3种，分别是`vw`、`像素百分比+flex弹性布局`和`rem+viewport`，后者最流行最容易。

当然，`rem+viewport`这种方案的实现方式也有很多，其中最著名的就是淘宝的**[flexible方案](https://github.com/amfe/article/issues/17)**。



## 元信息（meta）

html中的meta标签，也叫元信息标签。作用就是用来告诉浏览器，当前网页的附加信息。

meta标签主要有2个属性比较重要。

| 属性名     | 属性值                                        | 作用描述             |
| :--------- | :-------------------------------------------- | :------------------- |
| http-equiv | content-type , expires , refresh , set-cookie | 设置 **HTTP 头部**   |
| name       | viewport，author , description , keywords     | 设置网页附加描述信息 |

例子：

```html
<head>
    <meta name="description" content="移动端开发" /> <!-- SEO搜索引擎优化  -->
    <meta name="keywords" content="移动端,APP,flask" /> <!-- SEO搜索引擎优化  -->
  
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8">
	<meta http-equiv="Refresh" content="5;url=http://www.baidu.com" />
	<meta http-equiv="Set-Cookie" Content="name=xiaoming; expires=Fri Sep 17 2021 12:12:45 GMT; path=/">
</head>
```



### 视口（Viewport）

视口是一个相对比较复杂的概念，所以我们可以简单的理解为，viewport就是用户看手机页面时的可视区域，相当于桌面浏览器的窗口。在桌面浏览器中，viewport 就是浏览器窗口的宽度高度。但在移动端设备上就有点太窄了。

关于视口的详细扩展知识可以参看：https://www.w3cplus.com/css/viewports.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	.box{
		width: 200px;
		height: 200px;
		background-color: red;
	}
	</style>
</head>
<body>
	<div class="box">
		<p>hello</p>
	</div>
</body>
</html>
```

![image-20210917102633589](../../../../../Oldboy_Python_Projects/%25E9%25A1%25B9%25E7%259B%25AE/%25E9%25AD%2594%25E6%2596%25B9app/day106/assets/image-20210917102633589.png)

视口通过meta标签进行设置

```html
<!-- 移动端网页 -->	
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- app设置 -->
<meta name="viewport" content="width=device-width, initial-scala=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
```



视口参数说明

| 属性名        | 属性值                   |
| ------------- | ------------------------ |
| width         | web网页的css像素宽度     |
| device-width  | 视口设备的物理像素宽度   |
| initial-scale | 初始的缩放比例           |
| minimum-scale | 允许用户缩放到的最小比例 |
| maximum-scale | 允许用户缩放到的最大比例 |
| user-scalable | 用户是否可以手动缩放     |

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scala=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<style>
	.box{
		width: 200px;
		height: 200px;
		background-color: red;
	}
	</style>
</head>
<body>
	<div class="box">
		<p>hello</p>
	</div>
</body>
</html>
```



### 像素（pixel）

在移动端上，所谓的像素分为两种。

CSS像素：CSS像素就是我们在编写CSS代码时的像素。

设备像素：设备屏幕的物理像素，任何设备的物理像素的数量都是固定的。



### 媒体查询（media query）

媒体查询是css3的语法属性，它可以根据页面的视口宽度来定义特殊的 CSS 显示规则，一般用于进行移动端适配。

粗浅的理解：媒体查询提供了一个根据条件显示css样式的方式给开发者。让开发者在不同的设备宽度下选择是否执行CSS样式。

```css
/*
 当网页运行在屏幕(screen)下，并且600px <= 视口宽度 <= 900px，则浏览器识别并执行花括号里面的css代码，否则不执行。
 */
<style>
@media screen and (min-width:600px) and (max-width:900px){
  body {
      background-color:#f5f5f5;
  }
}
</style>
```

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scala=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<style>
	.box{
		width: 200px;
		height: 200px;
		background-color: red;
	}
	/* @media 相当于 if 判断 */
	/* if 屏幕 and (屏幕宽度最大值: 400px) */
	@media screen and (max-width: 400px) {
		.box{
			width: 100px;
			height: 100px;
			background-color: yellow;
		}
		/* ....	 各种处于当前条件的css语法代码 */
	}
	
	/* if 屏幕 and (屏幕宽度最小值: 400px) and (屏幕宽度最大值: 980px) */
	@media screen and (min-width: 400px) and (max-width: 980px) {
		.box{
			width: 300px;
			height: 300px;
			background-color: orange;
		}
		/* ....	 各种处于当前条件的css语法代码 */
	}

	/* if 当前网页被屏幕打开 and (屏幕宽度最小值: 1500px)  */
	@media screen and (min-width: 1500px){
		.box{
			width: 600px;
			height: 600px;
			background-color: blue;
		}
		/* ....	 各种处于当前条件的css语法代码 */
	}
	</style>
</head>
<body>
	<div class="box">
		<p>hello</p>
	</div>
</body>
</html>
```

媒体查询结合rem，就可以移动端的适配了。

	rem是一个相对单位，表示以根标签html的字体大小作为参考值的像素单位,
	1rem=1个html的字体大小，
	如果html的font-size设置为20像素，则1rem表示40pox

html，代码：

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scala=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<style>
	/* html就是整个网页的根标签（root tag）
       rem 就是相对于html字符大小进行定位取值的长度单位，root em
	 */
	*{
		padding: 0;
		margin: 0;
	}
	html{
		font-size: 15px;
	}
	.box{
		width: 20rem;
		height: 10rem;
		background-color: red;
	}
	.son{
		width: 1rem;
		background: blue;
		word-break: keep-all;/* 让文本的字符不要换行 */
	}
	/* @media 相当于 if 判断 */
	/* if 屏幕 and (屏幕宽度最大值: 400px) */
	@media screen and (max-width: 400px) {
		html{
			font-size: 15px;
		}
	}

	/* if 屏幕 and (屏幕宽度最小值: 400px) and (屏幕宽度最大值: 980px) */
	@media screen and (min-width: 400px) and (max-width: 980px) {
		html{
			font-size: 20px;
		}
	}

	/* if 屏幕 and (屏幕宽度最小值: 400px) and (屏幕宽度最大值: 980px) */
	@media screen and (min-width: 981px) and (max-width: 1499px) {
		html{
			font-size: 30px;
		}
	}


	/* if 当前网页被屏幕打开 and (屏幕宽度最小值: 1500px)  */
	@media screen and (min-width: 1500px){
		html{
			font-size: 40px;
		}
	}
	</style>
</head>
<body>
	<div class="box">
		<div class="son">字字字字字字字字字字字字字字字字字字字字</div>
	</div>
</body>
</html>
```

# 开发准备

我们接下来开发的项目是魔方APP，主要通过Flask+json-rpc+APICloud+vue完成的。